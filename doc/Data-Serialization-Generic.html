<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Serialization.Generic</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Serialization-Generic.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption" class="empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Data.Serialization.Generic</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Generic serialization
</a></li><li><a href="#g:2">Settings
</a></li><li><a href="#g:3">Adding specializations
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><dl><dt>headers</dt><dd>
</dd></dl><p>Defines generic serialization functions that require the type of objects that can serialized to 
 be an instance of <code>Data</code>, rather than <code><a href="Data-Serialization-Internal.html#t:Serializable">Serializable</a></code>. The binary representation of objects 
 serialized this way will depend on the layout of their data structure.
</p><p>If objects of certain types need to be serialized in a certain way because doing so based on 
 their layout is either not possible or less efficient, it is possible to manually make them an
 instance of <code><a href="Data-Serialization-Internal.html#t:Serializable">Serializable</a></code> and notifying the generic serializer of this by adding that type as
 a so-called specialization.
</p><p>Whenever a data structure contains an object of a type for which a specialization exist, the 
 serializer will use that for that object's binary representation; all objects inside the 
 structure without such a specialization will be serialized using the generic method.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short">module <a href="Data-Serialization.html">Data.Serialization</a></li><li class="src short"><a href="#v:serializeWith">serializeWith</a> :: Data a =&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a> -&gt; a -&gt; IO <a href="Data-Serialization-Internal.html#t:Serialized">Serialized</a></li><li class="src short"><a href="#v:serialize">serialize</a> :: Data a =&gt; a -&gt; IO <a href="Data-Serialization-Internal.html#t:Serialized">Serialized</a></li><li class="src short"><a href="#v:deserializeWith">deserializeWith</a> :: Data a =&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a> -&gt; <a href="Data-Serialization-Internal.html#t:Serialized">Serialized</a> -&gt; IO (Maybe a)</li><li class="src short"><a href="#v:deserialize">deserialize</a> :: Data a =&gt; <a href="Data-Serialization-Internal.html#t:Serialized">Serialized</a> -&gt; IO (Maybe a)</li><li class="src short"><span class="keyword">data</span>  <a href="#t:SerializationSettings">SerializationSettings</a> </li><li class="src short"><a href="#v:defaultSettings">defaultSettings</a> :: <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a></li><li class="src short"><a href="#v:addSerializableSpecialization">addSerializableSpecialization</a> :: (<a href="Data-Serialization-Internal.html#t:Serializable">Serializable</a> a, Data a) =&gt; a -&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a> -&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a></li><li class="src short"><a href="#v:addSerSpec">addSerSpec</a> :: (<a href="Data-Serialization-Internal.html#t:Serializable">Serializable</a> a, Data a) =&gt; a -&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a> -&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="doc"><p><code>Data.Serialization</code> is exposed, with the exception of the
 functions serialize and deserialize. These have been given
 a different, generic, definition in this module.
</p></div><div class="top"><p class="src">module <a href="Data-Serialization.html">Data.Serialization</a></p></div><h1 id="g:1">Generic serialization
</h1><div class="top"><p class="src"><a name="v:serializeWith" class="def">serializeWith</a> :: Data a =&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a> -&gt; a -&gt; IO <a href="Data-Serialization-Internal.html#t:Serialized">Serialized</a></p><div class="doc"><p>Apply the generic serializer to some value, using certain settings. Functions from 
 <code><a href="Data.html#t:Serialization">Serialization</a></code> (such as <code><a href="Data-Serialization.html#v:store">store</a></code> and <code><a href="Data-Serialization.html#v:load">load</a></code>) can be used to handle the resulting
 <code><a href="Data-Serialization-Internal.html#t:Serialized">Serialized</a></code> object.
</p><p>This function exists in the IO-monad because that is required for detection of sharing (multiple 
 pointers referring to the same object).
</p></div></div><div class="top"><p class="src"><a name="v:serialize" class="def">serialize</a> :: Data a =&gt; a -&gt; IO <a href="Data-Serialization-Internal.html#t:Serialized">Serialized</a></p><div class="doc"><p>Serialize with default settings. See <code><a href="Data-Serialization-Generic.html#v:serializeWith">serializeWith</a></code> and <code><a href="Data-Serialization-Generic.html#v:defaultSettings">defaultSettings</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:deserializeWith" class="def">deserializeWith</a> :: Data a =&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a> -&gt; <a href="Data-Serialization-Internal.html#t:Serialized">Serialized</a> -&gt; IO (Maybe a)</p><div class="doc"><p>Decodes a <code>Serialized</code> object back into a Haskell structure, using certain settings. In order 
 to assert the type is correct, <code>Nothing</code> is returned when the inferred type is not correct.
</p><p>The same <code><a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a></code> should be used as for the serialization of the object in 
 question.
</p><p>When a version incompatibility or other error occurs, a <code>SerializationException</code> is thrown.
</p></div></div><div class="top"><p class="src"><a name="v:deserialize" class="def">deserialize</a> :: Data a =&gt; <a href="Data-Serialization-Internal.html#t:Serialized">Serialized</a> -&gt; IO (Maybe a)</p><div class="doc"><p>Deserialize with default settings. See <code><a href="Data-Serialization-Generic.html#v:deserializeWith">deserializeWith</a></code> and <code><a href="Data-Serialization-Generic.html#v:defaultSettings">defaultSettings</a></code>.
</p></div></div><h1 id="g:2">Settings
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:SerializationSettings" class="def">SerializationSettings</a>  </p><div class="doc"><p>Holds the configurable settings for the serialization functions. 
 This contains all the types for which specialized serializers exist.
</p><p>Note that when an object x has been serialized with <code>a :: SerializationSettings</code>, trying to 
 deserialize it with <code>b :: SerializationSettings</code> where <code>a != b</code> the possible incompatibility 
 will be noticed and an exception will be thrown.
</p></div><div class="subs instances"><p id="control.i:SerializationSettings" class="caption collapser" onclick="toggleSection('i:SerializationSettings')">Instances</p><div id="section.i:SerializationSettings" class="show"><table><tr><td class="src">Eq <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:defaultSettings" class="def">defaultSettings</a> :: <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a></p><div class="doc"><p>The default serialization settings. Contains specializations for basic types such as Int and 
 Bool and most other types for which a <code><a href="Data-Serialization-Internal.html#t:Serializable">Serializable</a></code>-instance is defined in 
 <code><a href="Data-Serialization.html#t:Extent">Extent</a></code>.
</p></div></div><h1 id="g:3">Adding specializations
</h1><div class="top"><p class="src"><a name="v:addSerializableSpecialization" class="def">addSerializableSpecialization</a> :: (<a href="Data-Serialization-Internal.html#t:Serializable">Serializable</a> a, Data a) =&gt; a -&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a> -&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a></p><div class="doc"><p>Add a serialization specialization of some type for which a <code><a href="Data-Serialization-Internal.html#t:Serializable">Serializable</a></code> instance exists and
 store it in the <code><a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a></code>. Only the type of the first argument is relevant, and it
 might just as well be <code>undefined</code>.
</p></div></div><div class="top"><p class="src"><a name="v:addSerSpec" class="def">addSerSpec</a> :: (<a href="Data-Serialization-Internal.html#t:Serializable">Serializable</a> a, Data a) =&gt; a -&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a> -&gt; <a href="Data-Serialization-Generic.html#t:SerializationSettings">SerializationSettings</a></p><div class="doc"><p>Shorthand for <code><a href="Data-Serialization-Generic.html#v:addSerializableSpecialization">addSerializableSpecialization</a></code>.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>