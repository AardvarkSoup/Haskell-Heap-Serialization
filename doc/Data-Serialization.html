<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Serialization</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Serialization.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption" class="empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Data.Serialization</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Types
</a></li><li><a href="#g:2">Serializable class
</a></li><li><a href="#g:3">Serialization
</a></li><li><a href="#g:4">Storage and retrieval of serialized objects
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><dl><dt>headers</dt><dd>
</dd></dl><p>Contains an easily extensible <code><a href="Data-Serialization.html#t:Serializable">Serializable</a></code> class that allows converting an object from and to 
 binary data. Versioning and dynamic typing are also handled, as well as writing to and reading 
 from files and such.
</p><p><code><a href="Data-Serialization.html#t:Generic">Generic</a></code> specifies generic versions of the serializer and deserializer that
 can be used for arbitrary data structures. It can be used in conjunction with custom 
 <code><a href="Data-Serialization.html#t:Serializable">Serializable</a></code> instances if you want to manually introduce optimizations to the binary 
 representation of (a partial) structure.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Serialized">Serialized</a> </li><li class="src short"><span class="keyword">type</span> <a href="#t:LazyByteString">LazyByteString</a> = ByteString</li><li class="src short"><span class="keyword">data</span>  <a href="#t:SerializationException">SerializationException</a> <ul class="subs"><li>= <a href="#v:IncompatibleLibraries">IncompatibleLibraries</a>  </li><li>| <a href="#v:IncompatibleSerializers">IncompatibleSerializers</a>  </li><li>| <a href="#v:InvalidSerializedData">InvalidSerializedData</a>  </li><li>| <a href="#v:DeserializationError">DeserializationError</a> String  </li></ul></li><li class="src short"><span class="keyword">class</span> Typeable a =&gt; <a href="#t:Serializable">Serializable</a> a </li><li class="src short"><a href="#v:serialize">serialize</a> :: <a href="Data-Serialization.html#t:Serializable">Serializable</a> a =&gt; a -&gt; IO <a href="Data-Serialization.html#t:Serialized">Serialized</a></li><li class="src short"><a href="#v:deserialize">deserialize</a> :: <a href="Data-Serialization.html#t:Serializable">Serializable</a> a =&gt; <a href="Data-Serialization.html#t:Serialized">Serialized</a> -&gt; IO (Maybe a)</li><li class="src short"><a href="#v:store">store</a> :: FilePath -&gt; <a href="Data-Serialization.html#t:Serialized">Serialized</a> -&gt; IO ()</li><li class="src short"><a href="#v:load">load</a> :: FilePath -&gt; IO <a href="Data-Serialization.html#t:Serialized">Serialized</a></li><li class="src short"><a href="#v:stores">stores</a> :: FilePath -&gt; [<a href="Data-Serialization.html#t:Serialized">Serialized</a>] -&gt; IO ()</li><li class="src short"><a href="#v:loads">loads</a> :: FilePath -&gt; IO [<a href="Data-Serialization.html#t:Serialized">Serialized</a>]</li><li class="src short"><a href="#v:hStore">hStore</a> :: Handle -&gt; <a href="Data-Serialization.html#t:Serialized">Serialized</a> -&gt; IO ()</li><li class="src short"><a href="#v:hStores">hStores</a> :: Handle -&gt; [<a href="Data-Serialization.html#t:Serialized">Serialized</a>] -&gt; IO ()</li><li class="src short"><a href="#v:hLoad">hLoad</a> :: Handle -&gt; IO <a href="Data-Serialization.html#t:Serialized">Serialized</a></li><li class="src short"><a href="#v:hLoads">hLoads</a> :: Handle -&gt; IO [<a href="Data-Serialization.html#t:Serialized">Serialized</a>]</li><li class="src short"><a href="#v:storeInByteString">storeInByteString</a> :: <a href="Data-Serialization.html#t:Serialized">Serialized</a> -&gt; IO <a href="Data-Serialization.html#t:LazyByteString">LazyByteString</a></li><li class="src short"><a href="#v:loadFromByteString">loadFromByteString</a> :: <a href="Data-Serialization.html#t:LazyByteString">LazyByteString</a> -&gt; IO (<a href="Data-Serialization.html#t:Serialized">Serialized</a>, <a href="Data-Serialization.html#t:LazyByteString">LazyByteString</a>)</li></ul></div><div id="interface"><h1 id="g:1">Types
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Serialized" class="def">Serialized</a>  </p><div class="doc"><p>Represents the binary representation of a serialized object, along with version and type 
 information.
</p></div><div class="subs instances"><p id="control.i:Serialized" class="caption collapser" onclick="toggleSection('i:Serialized')">Instances</p><div id="section.i:Serialized" class="show"><table><tr><td class="src">Show <a href="Data-Serialization.html#t:Serialized">Serialized</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:LazyByteString" class="def">LazyByteString</a> = ByteString</p><div class="doc"><p>Type definition that is useful to distinguish lazy from regular <code>ByteString</code>s.
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:SerializationException" class="def">SerializationException</a>  </p><div class="doc"><p>Is thrown by the deserialization functions in case something goes wrong.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:IncompatibleLibraries" class="def">IncompatibleLibraries</a></td><td class="doc"><p>If an object has been serialized with another version of this 
 library.
</p></td></tr><tr><td class="src"><a name="v:IncompatibleSerializers" class="def">IncompatibleSerializers</a></td><td class="doc"><p>In case a different version of the serializer for a particular
 object was used.
</p></td></tr><tr><td class="src"><a name="v:InvalidSerializedData" class="def">InvalidSerializedData</a></td><td class="doc"><p>When the data read from a file or such does not conform to the
 protocol.
</p></td></tr><tr><td class="src"><a name="v:DeserializationError" class="def">DeserializationError</a> String</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:SerializationException" class="caption collapser" onclick="toggleSection('i:SerializationException')">Instances</p><div id="section.i:SerializationException" class="show"><table><tr><td class="src">Eq <a href="Data-Serialization.html#t:SerializationException">SerializationException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Data-Serialization.html#t:SerializationException">SerializationException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Typeable <a href="Data-Serialization.html#t:SerializationException">SerializationException</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Exception <a href="Data-Serialization.html#t:SerializationException">SerializationException</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Serializable class
</h1><div class="top"><p class="src"><span class="keyword">class</span> Typeable a =&gt; <a name="t:Serializable" class="def">Serializable</a> a </p><div class="doc"><p>Represents objects for which a specific serialization method has been defined. Instances exist
 for many standard types. If you want to serialize something of a different type, either use
 the generic serializers from <code>Data.Serialization.Generic</code> or make a custom instance of
 <code><a href="Data-Serialization.html#t:Serializable">Serializable</a></code> by importing <code>Data.Serialization.Extent</code>.
</p></div><div class="subs instances"><p id="control.i:Serializable" class="caption collapser" onclick="toggleSection('i:Serializable')">Instances</p><div id="section.i:Serializable" class="show"><table><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> Bool</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> Char</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> Double</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> Float</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> Int</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> Integer</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> Word</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> ()</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> Text</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> ByteString</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> <a href="Data-Serialization-Internal.html#t:Byte">Byte</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> a =&gt; <a href="Data-Serialization.html#t:Serializable">Serializable</a> [a]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Serialization.html#t:Serializable">Serializable</a> a =&gt; <a href="Data-Serialization.html#t:Serializable">Serializable</a> (Maybe a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Serialization.html#t:Serializable">Serializable</a> a, <a href="Data-Serialization.html#t:Serializable">Serializable</a> b) =&gt; <a href="Data-Serialization.html#t:Serializable">Serializable</a> (Either a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Serialization.html#t:Serializable">Serializable</a> a, <a href="Data-Serialization.html#t:Serializable">Serializable</a> b) =&gt; <a href="Data-Serialization.html#t:Serializable">Serializable</a> (a, b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(IArray ar e, Typeable2 ar, Ix i, <a href="Data-Serialization.html#t:Serializable">Serializable</a> i, <a href="Data-Serialization.html#t:Serializable">Serializable</a> e) =&gt; <a href="Data-Serialization.html#t:Serializable">Serializable</a> (ar i e)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:3">Serialization
</h1><div class="top"><p class="src"><a name="v:serialize" class="def">serialize</a> :: <a href="Data-Serialization.html#t:Serializable">Serializable</a> a =&gt; a -&gt; IO <a href="Data-Serialization.html#t:Serialized">Serialized</a></p><div class="doc"><p>Encode a <code><a href="Data-Serialization.html#t:Serializable">Serializable</a></code> object into a binary representation that also contains type and 
 version info. The resulting object can then be written to a file or stream using the storage
 functions.
</p></div></div><div class="top"><p class="src"><a name="v:deserialize" class="def">deserialize</a> :: <a href="Data-Serialization.html#t:Serializable">Serializable</a> a =&gt; <a href="Data-Serialization.html#t:Serialized">Serialized</a> -&gt; IO (Maybe a)</p><div class="doc"><p>Decodes a <code>Serialized</code> object back into a Haskell structure. In order to assert the type is
 correct, <code>Nothing</code> is returned when the inferred type is not correct. This works similarly as
 <code>cast</code>.
</p><p>When a version incompatibility or other error occurs, a <code>SerializationException</code> is thrown.
</p></div></div><h1 id="g:4">Storage and retrieval of serialized objects
</h1><div class="top"><p class="src"><a name="v:store" class="def">store</a> :: FilePath -&gt; <a href="Data-Serialization.html#t:Serialized">Serialized</a> -&gt; IO ()</p><div class="doc"><p>Writes a serialized object to a file.
</p></div></div><div class="top"><p class="src"><a name="v:load" class="def">load</a> :: FilePath -&gt; IO <a href="Data-Serialization.html#t:Serialized">Serialized</a></p><div class="doc"><p>Reads a serialized from a file.
</p></div></div><div class="top"><p class="src"><a name="v:stores" class="def">stores</a> :: FilePath -&gt; [<a href="Data-Serialization.html#t:Serialized">Serialized</a>] -&gt; IO ()</p><div class="doc"><p>Writes multiple serialized objects to a file.
</p></div></div><div class="top"><p class="src"><a name="v:loads" class="def">loads</a> :: FilePath -&gt; IO [<a href="Data-Serialization.html#t:Serialized">Serialized</a>]</p><div class="doc"><p>Reads multiple serialized objects from a file.
</p></div></div><div class="top"><p class="src"><a name="v:hStore" class="def">hStore</a> :: Handle -&gt; <a href="Data-Serialization.html#t:Serialized">Serialized</a> -&gt; IO ()</p><div class="doc"><p>Writes a serialized object to a handle.
</p></div></div><div class="top"><p class="src"><a name="v:hStores" class="def">hStores</a> :: Handle -&gt; [<a href="Data-Serialization.html#t:Serialized">Serialized</a>] -&gt; IO ()</p><div class="doc"><p>Writes multiple serialized objects to a handle.
</p></div></div><div class="top"><p class="src"><a name="v:hLoad" class="def">hLoad</a> :: Handle -&gt; IO <a href="Data-Serialization.html#t:Serialized">Serialized</a></p><div class="doc"><p>Loads a single serialized object from a handle. Note: this handle may not contain any data
 besides this objects.
</p></div></div><div class="top"><p class="src"><a name="v:hLoads" class="def">hLoads</a> :: Handle -&gt; IO [<a href="Data-Serialization.html#t:Serialized">Serialized</a>]</p><div class="doc"><p>Loads multiple serialized objects from a handle. Note: this handle may not contain any data
 besides these objects.
</p></div></div><div class="top"><p class="src"><a name="v:storeInByteString" class="def">storeInByteString</a> :: <a href="Data-Serialization.html#t:Serialized">Serialized</a> -&gt; IO <a href="Data-Serialization.html#t:LazyByteString">LazyByteString</a></p><div class="doc"><p>Store the binary representation of a serialized object in a <code>LazyByteString</code>.
</p></div></div><div class="top"><p class="src"><a name="v:loadFromByteString" class="def">loadFromByteString</a> :: <a href="Data-Serialization.html#t:LazyByteString">LazyByteString</a> -&gt; IO (<a href="Data-Serialization.html#t:Serialized">Serialized</a>, <a href="Data-Serialization.html#t:LazyByteString">LazyByteString</a>)</p><div class="doc"><p>Reads a serialized object from the beginning of a lazy bytestring. Returns it along with the 
 rest of the string. Throws a <code>SerializationException</code> when an error occurs.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>